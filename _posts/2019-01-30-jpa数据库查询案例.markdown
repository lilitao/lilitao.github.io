---

layout: post
date: 2019-01-30
title: jpa数据库查询案例
categories: jpa
description: jpa在各种场情下的数据库查询例子

---

## 单表查询

jpa对单表操作提供了完善的接口，通过继承JPA接口，在不需要编写sql的情况下完成绝大部分的单表操作场景。

### 场情一

继承JpaRepository接口，使用jpa提供的方法
1. save 保存对象,返回已经保存的对象
2. findById 通过主键查询表记录,返回JPA Entity
3. existsById 通过主键判断记录是否存在 ，返回boolean
4. count 统计记录数，返回long
5. delete 删除记录

### 场情二

继承JpaRepository接口，通过方法名拼着字段查询
1. 以findBy开头的方法
2. 以countBy开头的方法
3. 以existsBy开头的方法
4. 以deleteBy开头的方法

### 场情三


拼接查询条件的单表查询，例如：前端传来3三个查询条件，如果某个查询条件为空则，不使用该条件查询
1. findOne(Example)
2. findAll(Example)
3. count(Example)
4. exists(example)

### 场情四

分页排序

分页：传递Pageable参数，Pageable包括排序Sort对象
排序：传递Sort参数 

## 场情五

静态SQL或者HQL


## 场情六

查询条件动态SQL或者HQL